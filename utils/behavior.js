// +------------------------------------
// |     Behavior
// +------------------------------------
// |
// +-------------------------------------


const app = getApp()

module.exports = Behavior({


  data:{
    domian:"https://wecha.wechasamllapp.xyz/",//API调用配置域名
  },
  methods:{ 
    
    // 判断用户是否登陆,注意网络延时的影响
    /* +---------------------------------------------------------------------------
     * | isLogin
     * +---------------------------------------------------------------------------
     * |  Params:1.openid
     * +---------------------------------------------------------------------------
     * |  Return:true为登录状态，false为未登录状态
     * +---------------------------------------------------------------------------
     */
    
    isLogin: function () {
      var { userInfo } = app.store.getState()
      if (userInfo.openid === null){
        return false
      }else{
        return true
      }
    },

   // 获取当前时间戳
    /* +---------------------------------------------------------------------------
     * | getTimestamp
     * +---------------------------------------------------------------------------
     * |  Params:null
     * +---------------------------------------------------------------------------
     * |  Return:当前时间戳
     * +---------------------------------------------------------------------------
     */
    getTimestamp:function(){
     return Math.round(new Date() / 1000)
    },

    // 设置未来每个时间点的时间戳
    /* +---------------------------------------------------------------------------
     * | steTimestamp
     * +---------------------------------------------------------------------------
     * |  Params:以毫秒为单位整数型参数，60000为一秒，7天时间：7*24*60*60000
     * +---------------------------------------------------------------------------
     * |  Return:未来每个时间点的时间戳
     * +---------------------------------------------------------------------------
     */
    setTimestamp:function(num){
      return (Math.round(new Date() / 1000)+num)
    },

  }

})